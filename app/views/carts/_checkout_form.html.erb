
<%= form_for :order, url: '/orders', data: {turbo: false} do |f| %>
  <h2> Shipping </h2>

    <div class='row g-3'>
      <div class='col-6'>
        <%= f.label :firstname, 'First name', class: 'form-label'%>
        <%= f.text_field :firstname, class: 'form-control mb-3', required: true%>
      </div>

      <div class='col-6'>
        <%= f.label :lastname, 'Last name', class: 'form-label' %>
        <%= f.text_field :lastname, class: 'form-control mb-3', required: true%>
      </div>   

      <div class='col-12'>
        <%= f.label :email, class: 'form-label' %>
        <%= f.email_field :email, placeholder: 'email@example.com', class: 'form-control mb-3', required: true%>
      </div>

      <div class='col-12'>
        <%= f.label :address, class: 'form-label' %>
        <%= f.text_field :address, class: 'form-control mb-3', required: true%>
      </div>

      <div class='col-md-5'> 
        <%= f.label :country, class: 'form-label' %> <br>
        <%= f.country_select :country, priority_countries = ["United States"], options = {}, html_options = {:class => "form-select mb-3"}%>
      </div>

      <div class='col-md-4'>
        <%= f.label :state, class: 'form-label' %>
        <%= f.text_field :state, placeholder: 'OH', class: 'form-control',
            required: true,
            pattern: '((A[LKSZR])|(C[AOT])|(D[EC])|(F[ML])|(G[AU])|(HI)|(I[DLNA])|(K[SY])|(LA)|(M[EHDAINSOT])|(N[EVHJMYCD])|(MP)|(O[HKR])|(P[WAR])|(RI)|(S[CD])|(T[NX])|(UT)|(V[TIA])|(W[AVIY]))'%>
            <small class="text-muted">Valid state abbreviation required</small>
      </div>

      <div class='col-md-3'>
        <%= f.label :zipcode, class: 'form-label' %>
        <%= f.number_field :zipcode, class: 'form-control mb-3', required: true%>
      </div>
    </div>


    <h2> Payment </h2>

    <div class='row gy-3'>

      <div class='col-md-6'>
        <%= f.label :ccname, 'Name on card', class: 'form-label'%>
        <%= f.text_field :ccname, class: 'form-control', required: true%>
        <small class="text-muted">Full name as displayed on card</small>
      </div>

      <div class='col-md-6'>
        <%= f.label :ccnumber, 'Credit card', class: 'form-label' %>
        <%= f.number_field :ccnumber, class: 'form-control',
            required: true,
            min: 16,
            max: 16,
            oninvalid: "this.setCustomValidity('entry must be 16 characters')"%>
      </div>

      <div class='col-md-3'>
        <%= f.label :expiration, 'Expiration date', class: 'form-label'%>
        <%= f.date_select :expiration,
            {discard_day: true, 
            use_month_numbers: true, 
            start_year: Date.today.year, 
            end_year: (Date.today.year+15),
            order: [:month, :year]},
            class: 'form-select mb-3',
            required: true%>
      </div>

      <div class='col-md-3'>
        <%= f.label :cvv, 'CVV', class: 'form-label'%>
        <%= f.text_field :cvv, class: 'form-control mb-3', required: true%>
      </div>
    </div>

      <%= f.submit :Checkout, class: 'btn btn-primary'%>

    <% end %>
